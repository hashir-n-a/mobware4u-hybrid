function PrayTime(){this.Jafari=0,this.Karachi=1,this.ISNA=2,this.MWL=3,this.Makkah=4,this.Egypt=5,this.Custom=6,this.Tehran=7,this.Shafii=0,this.Hanafi=1,this.None=0,this.MidNight=1,this.OneSeventh=2,this.AngleBased=3,this.Time24=0,this.Time12=1,this.Time12NS=2,this.Float=3,this.timeNames=new Array("Fajr","Sunrise","Dhuhr","Asr","Sunset","Maghrib","Isha"),this.InvalidTime="-----",this.calcMethod=0,this.asrJuristic=0,this.dhuhrMinutes=0,this.adjustHighLats=1,this.timeFormat=0;this.numIterations=1,this.methodParams=new Array,this.methodParams[this.Jafari]=new Array(16,0,4,0,14),this.methodParams[this.Karachi]=new Array(18,1,0,0,18),this.methodParams[this.ISNA]=new Array(15,1,0,0,15),this.methodParams[this.MWL]=new Array(18,1,0,0,17),this.methodParams[this.Makkah]=new Array(19,1,0,1,90),this.methodParams[this.Egypt]=new Array(19.5,1,0,0,17.5),this.methodParams[this.Tehran]=new Array(17.7,0,4.5,0,15),this.methodParams[this.Custom]=new Array(18,1,0,0,17)}PrayTime.prototype.getDatePrayerTimes=function(t,i,e,r,s,a){return this.lat=r,this.lng=s,this.timeZone=this.effectiveTimeZone(t,i,e,a),this.JDate=this.julianDate(t,i,e)-s/360,this.computeDayTimes()},PrayTime.prototype.getPrayerTimes=function(t,i,e,r){return this.getDatePrayerTimes(t.getFullYear(),t.getMonth()+1,t.getDate(),i,e,r)},PrayTime.prototype.setCalcMethod=function(t){this.calcMethod=t},PrayTime.prototype.setAsrMethod=function(t){0>t||t>1||(this.asrJuristic=t)},PrayTime.prototype.setFajrAngle=function(t){this.setCustomParams(new Array(t,null,null,null,null))},PrayTime.prototype.setMaghribAngle=function(t){this.setCustomParams(new Array(null,0,t,null,null))},PrayTime.prototype.setIshaAngle=function(t){this.setCustomParams(new Array(null,null,null,0,t))},PrayTime.prototype.setDhuhrMinutes=function(t){this.dhuhrMinutes=t},PrayTime.prototype.setMaghribMinutes=function(t){this.setCustomParams(new Array(null,1,t,null,null))},PrayTime.prototype.setIshaMinutes=function(t){this.setCustomParams(new Array(null,null,null,1,t))},PrayTime.prototype.setCustomParams=function(t){for(var i=0;5>i;i++)null==t[i]?this.methodParams[this.Custom][i]=this.methodParams[this.calcMethod][i]:this.methodParams[this.Custom][i]=t[i];this.calcMethod=this.Custom},PrayTime.prototype.setHighLatsMethod=function(t){this.adjustHighLats=t},PrayTime.prototype.setTimeFormat=function(t){this.timeFormat=t},PrayTime.prototype.floatToTime24=function(t){if(isNaN(t))return this.InvalidTime;t=this.fixhour(t+.5/60);var i=Math.floor(t),e=Math.floor(60*(t-i));return this.twoDigitsFormat(i)+":"+this.twoDigitsFormat(e)},PrayTime.prototype.floatToTime12=function(t,i){if(isNaN(t))return this.InvalidTime;t=this.fixhour(t+.5/60);var e=Math.floor(t),r=Math.floor(60*(t-e)),s=e>=12?" pm":" am";return e=(e+12-1)%12+1,e+":"+this.twoDigitsFormat(r)+(i?"":s)},PrayTime.prototype.floatToTime12NS=function(t){return this.floatToTime12(t,!0)},PrayTime.prototype.sunPosition=function(t){var i=t-2451545,e=this.fixangle(357.529+.98560028*i),r=this.fixangle(280.459+.98564736*i),s=this.fixangle(r+1.915*this.dsin(e)+.02*this.dsin(2*e)),a=(1.00014-.01671*this.dcos(e)-14e-5*this.dcos(2*e),23.439-3.6e-7*i),o=this.darcsin(this.dsin(a)*this.dsin(s)),h=this.darctan2(this.dcos(a)*this.dsin(s),this.dcos(s))/15;h=this.fixhour(h);var n=r/15-h;return new Array(o,n)},PrayTime.prototype.equationOfTime=function(t){return this.sunPosition(t)[1]},PrayTime.prototype.sunDeclination=function(t){return this.sunPosition(t)[0]},PrayTime.prototype.computeMidDay=function(t){var i=this.equationOfTime(this.JDate+t),e=this.fixhour(12-i);return e},PrayTime.prototype.computeTime=function(t,i){var e=this.sunDeclination(this.JDate+i),r=this.computeMidDay(i),s=1/15*this.darccos((-this.dsin(t)-this.dsin(e)*this.dsin(this.lat))/(this.dcos(e)*this.dcos(this.lat)));return r+(t>90?-s:s)},PrayTime.prototype.computeAsr=function(t,i){var e=this.sunDeclination(this.JDate+i),r=-this.darccot(t+this.dtan(Math.abs(this.lat-e)));return this.computeTime(r,i)},PrayTime.prototype.computeTimes=function(t){var i=this.dayPortion(t),e=this.computeTime(180-this.methodParams[this.calcMethod][0],i[0]),r=this.computeTime(179.167,i[1]),s=this.computeMidDay(i[2]),a=this.computeAsr(1+this.asrJuristic,i[3]),o=this.computeTime(.833,i[4]),h=this.computeTime(this.methodParams[this.calcMethod][2],i[5]),n=this.computeTime(this.methodParams[this.calcMethod][4],i[6]);return new Array(e,r,s,a,o,h,n)},PrayTime.prototype.computeDayTimes=function(){for(var t=new Array(5,6,12,13,18,18,18),i=1;i<=this.numIterations;i++)t=this.computeTimes(t);return t=this.adjustTimes(t),this.adjustTimesFormat(t)},PrayTime.prototype.adjustTimes=function(t){for(var i=0;7>i;i++)t[i]+=this.timeZone-this.lng/15;return t[2]+=this.dhuhrMinutes/60,1==this.methodParams[this.calcMethod][1]&&(t[5]=t[4]+this.methodParams[this.calcMethod][2]/60),1==this.methodParams[this.calcMethod][3]&&(t[6]=t[5]+this.methodParams[this.calcMethod][4]/60),this.adjustHighLats!=this.None&&(t=this.adjustHighLatTimes(t)),t},PrayTime.prototype.adjustTimesFormat=function(t){if(this.timeFormat==this.Float)return t;for(var i=0;7>i;i++)this.timeFormat==this.Time12?t[i]=this.floatToTime12(t[i]):this.timeFormat==this.Time12NS?t[i]=this.floatToTime12(t[i],!0):t[i]=this.floatToTime24(t[i]);return t},PrayTime.prototype.adjustHighLatTimes=function(t){var i=this.timeDiff(t[4],t[1]),e=this.nightPortion(this.methodParams[this.calcMethod][0])*i;(isNaN(t[0])||this.timeDiff(t[0],t[1])>e)&&(t[0]=t[1]-e);var r=0==this.methodParams[this.calcMethod][3]?this.methodParams[this.calcMethod][4]:18,s=this.nightPortion(r)*i;(isNaN(t[6])||this.timeDiff(t[4],t[6])>s)&&(t[6]=t[4]+s);var a=0==this.methodParams[this.calcMethod][1]?this.methodParams[this.calcMethod][2]:4,o=this.nightPortion(a)*i;return(isNaN(t[5])||this.timeDiff(t[4],t[5])>o)&&(t[5]=t[4]+o),t},PrayTime.prototype.nightPortion=function(t){return this.adjustHighLats==this.AngleBased?1/60*t:this.adjustHighLats==this.MidNight?.5:this.adjustHighLats==this.OneSeventh?1/7:void 0},PrayTime.prototype.dayPortion=function(t){for(var i=0;7>i;i++)t[i]/=24;return t},PrayTime.prototype.timeDiff=function(t,i){return this.fixhour(i-t)},PrayTime.prototype.twoDigitsFormat=function(t){return 10>t?"0"+t:t},PrayTime.prototype.julianDate=function(t,i,e){2>=i&&(t-=1,i+=12);var r=Math.floor(t/100),s=2-r+Math.floor(r/4),a=Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+e+s-1524.5;return a},PrayTime.prototype.calcJD=function(t,i,e){var r=2440588,s=new Date(t,i-1,e),a=s.getTime(),o=Math.floor(a/864e5);return r+o-.5},PrayTime.prototype.getTimeZone=function(t){var i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0),e=i.toGMTString(),r=new Date(e.substring(0,e.lastIndexOf(" ")-1)),s=(i-r)/36e5;return s},PrayTime.prototype.getBaseTimeZone=function(){return this.getTimeZone(new Date(2e3,0,15))},PrayTime.prototype.detectDaylightSaving=function(t){return this.getTimeZone(t)!=this.getBaseTimeZone()},PrayTime.prototype.effectiveTimeZone=function(t,i,e,r){return(null==r||"undefined"==typeof r||"auto"==r)&&(r=this.getTimeZone(new Date(t,i-1,e))),1*r},PrayTime.prototype.dsin=function(t){return Math.sin(this.dtr(t))},PrayTime.prototype.dcos=function(t){return Math.cos(this.dtr(t))},PrayTime.prototype.dtan=function(t){return Math.tan(this.dtr(t))},PrayTime.prototype.darcsin=function(t){return this.rtd(Math.asin(t))},PrayTime.prototype.darccos=function(t){return this.rtd(Math.acos(t))},PrayTime.prototype.darctan=function(t){return this.rtd(Math.atan(t))},PrayTime.prototype.darctan2=function(t,i){return this.rtd(Math.atan2(t,i))},PrayTime.prototype.darccot=function(t){return this.rtd(Math.atan(1/t))},PrayTime.prototype.dtr=function(t){return t*Math.PI/180},PrayTime.prototype.rtd=function(t){return 180*t/Math.PI},PrayTime.prototype.fixangle=function(t){return t-=360*Math.floor(t/360),t=0>t?t+360:t},PrayTime.prototype.fixhour=function(t){return t-=24*Math.floor(t/24),t=0>t?t+24:t};var prayTime=new PrayTime;